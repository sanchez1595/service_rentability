(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6],{21173:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/reset-password",function(){return s(45750)}])},63759:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});var r=s(67294),a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l=(e,t)=>{let s=(0,r.forwardRef)((s,l)=>{let{color:i="currentColor",size:c=24,strokeWidth:o=2,absoluteStrokeWidth:d,children:u,...h}=s;return(0,r.createElement)("svg",{ref:l,...a,width:c,height:c,stroke:i,strokeWidth:d?24*Number(o)/Number(c):o,className:"lucide lucide-".concat(n(e)),...h},[...t.map(e=>{let[t,s]=e;return(0,r.createElement)(t,s)}),...(Array.isArray(u)?u:[u])||[]])});return s.displayName="".concat(e),s}},60493:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(63759).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},43832:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(63759).Z)("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]])},15928:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(63759).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},82126:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(63759).Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},45750:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return x}});var r=s(85893),a=s(67294),n=s(11163),l=s(9008),i=s.n(l),c=s(60493),o=s(82126),d=s(43832),u=s(15928),h=s(37843);function x(){let[e,t]=(0,a.useState)(""),[s,l]=(0,a.useState)(""),[x,m]=(0,a.useState)(!1),[g,f]=(0,a.useState)(!1),[b,p]=(0,a.useState)(!1),[y,w]=(0,a.useState)(null),[j,v]=(0,a.useState)(!1),N=(0,n.useRouter)();(0,a.useEffect)(()=>{let e=new URLSearchParams(window.location.hash.substring(1)),t=e.get("access_token");e.get("refresh_token"),"recovery"===e.get("type")&&t||w("Enlace de recuperaci\xf3n inv\xe1lido o expirado")},[]);let k=()=>e.length<6?(w("La contrase\xf1a debe tener al menos 6 caracteres"),!1):e===s||(w("Las contrase\xf1as no coinciden"),!1),C=async t=>{if(t.preventDefault(),w(null),k()){p(!0);try{let{error:t}=await h.O.auth.updateUser({password:e});t?w(t.message||"Error al actualizar la contrase\xf1a"):(v(!0),setTimeout(()=>{N.push("/auth")},3e3))}catch(e){w("Error inesperado al actualizar la contrase\xf1a")}finally{p(!1)}}},Z=0===e.length?{strength:0,text:""}:e.length<6?{strength:1,text:"Muy d\xe9bil"}:e.length<8?{strength:2,text:"D\xe9bil"}:e.length>=8&&/[A-Z]/.test(e)&&/[0-9]/.test(e)?{strength:4,text:"Fuerte"}:{strength:3,text:"Media"};return j?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i(),{children:(0,r.jsx)("title",{children:"Contrase\xf1a Actualizada - Rentability"})}),(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-white to-blue-50 flex items-center justify-center py-12 px-4",children:(0,r.jsx)("div",{className:"max-w-md w-full",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-8 text-center",children:[(0,r.jsx)("div",{className:"flex justify-center mb-6",children:(0,r.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center",children:(0,r.jsx)(c.Z,{className:"w-8 h-8 text-green-600"})})}),(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"\xa1Contrase\xf1a Actualizada!"}),(0,r.jsx)("p",{className:"text-gray-600 mb-6",children:"Tu contrase\xf1a ha sido actualizada exitosamente. Ser\xe1s redirigido al login en unos segundos."}),(0,r.jsx)("button",{onClick:()=>N.push("/auth"),className:"w-full py-3 px-4 bg-green-600 hover:bg-green-700 text-white font-medium rounded-lg transition-colors",children:"Ir al Login"})]})})})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i(),{children:(0,r.jsx)("title",{children:"Restablecer Contrase\xf1a - Rentability"})}),(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-green-50 flex items-center justify-center py-12 px-4",children:(0,r.jsx)("div",{className:"max-w-md w-full",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[(0,r.jsx)("div",{className:"flex justify-center mb-4",children:(0,r.jsx)("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center",children:(0,r.jsx)(o.Z,{className:"w-8 h-8 text-blue-600"})})}),(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Nueva Contrase\xf1a"}),(0,r.jsx)("p",{className:"text-gray-600 mt-2",children:"Ingresa tu nueva contrase\xf1a"})]}),y&&(0,r.jsx)("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:(0,r.jsx)("p",{className:"text-red-600 text-sm",children:y})}),(0,r.jsxs)("form",{onSubmit:C,className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Nueva Contrase\xf1a"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,r.jsx)(o.Z,{className:"h-5 w-5 text-gray-400"})}),(0,r.jsx)("input",{id:"password",name:"password",type:x?"text":"password",required:!0,value:e,onChange:e=>t(e.target.value),className:"block w-full pl-10 pr-10 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-colors",placeholder:"M\xednimo 6 caracteres"}),(0,r.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>m(!x),children:x?(0,r.jsx)(d.Z,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):(0,r.jsx)(u.Z,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]}),e&&(0,r.jsx)("div",{className:"mt-2",children:(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:(0,r.jsx)("div",{className:"h-2 rounded-full transition-all duration-300 ".concat(1===Z.strength?"bg-red-500 w-1/4":2===Z.strength?"bg-yellow-500 w-2/4":3===Z.strength?"bg-blue-500 w-3/4":4===Z.strength?"bg-green-500 w-full":"w-0")})}),(0,r.jsx)("span",{className:"text-xs text-gray-600 min-w-max",children:Z.text})]})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirmar Nueva Contrase\xf1a"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,r.jsx)(o.Z,{className:"h-5 w-5 text-gray-400"})}),(0,r.jsx)("input",{id:"confirmPassword",name:"confirmPassword",type:g?"text":"password",required:!0,value:s,onChange:e=>l(e.target.value),className:"block w-full pl-10 pr-10 py-3 border rounded-lg focus:ring-2 outline-none transition-colors ".concat(s&&e!==s?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-blue-500 focus:border-blue-500"),placeholder:"Repite tu nueva contrase\xf1a"}),(0,r.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>f(!g),children:g?(0,r.jsx)(d.Z,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):(0,r.jsx)(u.Z,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]}),s&&e!==s&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:"Las contrase\xf1as no coinciden"})]}),(0,r.jsx)("button",{type:"submit",disabled:b,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:b?(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Actualizando..."]}):"Actualizar Contrase\xf1a"})]})]})})})]})}},9008:function(e,t,s){e.exports=s(23867)},11163:function(e,t,s){e.exports=s(43079)}},function(e){e.O(0,[888,774,179],function(){return e(e.s=21173)}),_N_E=e.O()}]);